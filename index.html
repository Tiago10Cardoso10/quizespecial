<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Um Desafio Especial ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 182, 193, 0.5);
        }
        body {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        .heart {
            position: fixed;
            color: rgba(255, 255, 255, 0.6);
            user-select: none;
            pointer-events: none;
            z-index: 0;
            animation: float 6s linear infinite;
        }
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }
        .letter-slot {
            border-bottom: 3px solid #db2777;
            width: 18px;
            display: inline-block;
            margin: 0 2px;
            height: 30px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #db2777;
            text-transform: uppercase;
            text-align: center;
        }
        .space-slot { width: 25px; display: inline-block; }
    </style>
</head>
<body class="flex items-center justify-center p-4">

<div v-for="n in 15" class="heart" :style="{left: Math.random()*100+'vw', animationDelay: Math.random()*5+'s', fontSize: (Math.random()*20+10)+'px'}">‚ù§Ô∏è</div>

<div id="app" class="w-full max-w-lg z-10">
    
    <div v-if="gameState === 'start'" class="glass rounded-3xl p-8 shadow-2xl animate__animated animate__fadeIn text-center">
        <div class="text-6xl mb-6">üíå</div>
        <h1 class="text-3xl font-bold text-pink-800 mb-6">Est√°s pronta?</h1>
        <div class="bg-pink-50 rounded-2xl p-6 mb-8 text-left border border-pink-100">
            <p class="text-pink-700 font-medium mb-4 italic">L√™ com aten√ß√£o:</p>
            <ul class="space-y-4 text-pink-900 leading-relaxed">
                <li class="flex items-start">
                    <span class="mr-2">‚ö†Ô∏è</span>
                    <span>Assim que clicares em <b>INICIAR</b>, entras num modo de desafio total.</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2">ü§´</span>
                    <span>Eu <b>n√£o te posso dizer nada nem ajudar</b> em nenhuma pergunta at√© chegares ao fim.</span>
                </li>
                <li class="flex items-start">
                    <span class="mr-2">üéÅ</span>
                    <span>O jogo e as regras s√≥ terminam quando encontrares uma localiza√ß√£o.</span>
                </li>
            </ul>
        </div>
        <button @click="gameState = 'quiz'" class="w-full bg-pink-500 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:bg-pink-600 active:scale-95 transition-all">
            INICIAR DESAFIO ‚ù§Ô∏è
        </button>
    </div>

    <div v-if="gameState === 'quiz'" class="glass rounded-3xl p-8 shadow-2xl animate__animated animate__fadeIn">
        <div class="text-center mb-6">
            <span class="text-4xl">üíñ</span>
        </div>
        <div class="w-full bg-pink-100 rounded-full h-2 mb-6">
            <div class="bg-pink-500 h-2 rounded-full transition-all duration-500" 
                 :style="{ width: (currentStep / questions.length) * 100 + '%' }"></div>
        </div>
        <h2 class="text-2xl font-bold text-pink-800 mb-6 leading-tight text-center">
            {{ questions[currentStep].text }}
        </h2>
        <div class="grid grid-cols-1 gap-4">
            <button 
                v-for="(option, index) in questions[currentStep].options" 
                :key="index"
                @click="checkAnswer(option)"
                class="w-full p-4 text-center rounded-2xl border-2 border-pink-100 hover:border-pink-500 hover:bg-pink-50 transition-all active:scale-95 font-medium text-pink-700 shadow-sm"
            >
                {{ option }}
            </button>
        </div>
        <p v-if="showError" class="mt-4 text-red-500 text-center font-medium animate__animated animate__shakeX">
            ‚ùå Ups! Tenta outra vez, eu sei que consegues... ‚ù§Ô∏è
        </p>
    </div>

    <div v-if="gameState === 'hangman'" class="glass rounded-3xl p-6 shadow-2xl animate__animated animate__fadeIn">
        <div class="text-center mb-4">
            <span class="text-sm font-bold text-pink-400 uppercase tracking-widest">Desafio Final</span>
            <h2 class="text-xl font-bold text-pink-800 mt-2">Adivinha a frase:</h2>
            <div class="mt-4 flex justify-center items-center gap-2">
                <span class="text-pink-600 font-bold">Erros:</span>
                <span :class="errors >= 10 ? 'text-red-600 animate-pulse' : 'text-pink-500'" class="text-lg font-black">
                    {{ errors }} / 10
                </span>
            </div>
        </div>
        <div class="text-center my-8 flex flex-wrap justify-center items-center gap-y-6">
            <div v-for="(word, wIndex) in hangmanWord.split(' ')" :key="wIndex" class="flex items-center">
                <span v-for="(char, cIndex) in word" :key="cIndex" class="letter-slot">
                    {{ guessedLetters.includes(char.toLowerCase()) ? char : '' }}
                </span>
                <div v-if="wIndex < hangmanWord.split(' ').length - 1" class="space-slot"></div>
            </div>
        </div>
        <div class="grid grid-cols-7 gap-1">
            <button 
                v-for="letter in alphabet" 
                :key="letter"
                @click="guessLetter(letter)"
                :disabled="guessedLetters.includes(letter)"
                :class="guessedLetters.includes(letter) ? 'bg-gray-200 text-gray-400' : 'bg-pink-100 text-pink-700 hover:bg-pink-300'"
                class="p-2 rounded-lg text-xs font-bold transition-all active:scale-90"
            >
                {{ letter.toUpperCase() }}
            </button>
        </div>
    </div>

    <div v-if="gameState === 'finished'" class="glass rounded-3xl p-10 shadow-2xl text-center animate__animated animate__heartBeat">
        <div class="text-7xl mb-6 text-pink-500 animate__animated animate__pulse animate__infinite">üéÅ</div>
        <h2 class="text-3xl font-bold text-pink-800 mb-4">Encontraste!</h2>
        <p class="text-lg text-pink-600 mb-8 leading-relaxed">
            <span class="font-bold text-pink-700 text-2xl">Vai debaixo do teu banco!</span>
        </p>
        <div class="flex justify-center gap-2 text-2xl">
            <span>‚ù§Ô∏è</span><span>‚ú®</span><span>‚ù§Ô∏è</span>
        </div>
    </div>
</div>

<script>
    const { createApp } = Vue
    createApp({
        data() {
            return {
                gameState: 'start', // Estados: 'start', 'quiz', 'hangman', 'finished'
                currentStep: 0,
                showError: false,
                errors: 0,
                alphabet: 'abcdefghijklmnopqrstuvwxyz'.split(''),
                guessedLetters: [],
                hangmanWord: "Vai debaixo do teu banco",
                questions: [
                    { text: "Qual foi o dia do nosso primeiro encontro?", options: ["28 de Dezembro", "4 de Janeiro", "29 de Novembro"], correct: "28 de Dezembro" },
                    { text: "Onde fica o NOSSO parque?", options: ["Freixo de Baixo", "Marco de Canaveses", "Avessadas"], correct: "Marco de Canaveses" },
                    { text: "Qual foi o primeiro filme que fomos ver ao Cinema?", options: ["A criada", "Shelter", "Avatar 3"], correct: "Avatar 3" },
                    { text: "Qual √© a minha coisa favorita em ti?", options: ["Olhos", "Tudoooo", "Sorriso"], correct: "Tudo" },
                    { text: "Qual foi o restaurante que fomos com a tua irm√£?", options: ["Quinta da Lama", "O Cedro", "Casa do Lago"], correct: "Quinta da Lama" },
                    { text: "Qual √© o n√∫mero do date de Hoje", options: ["8", "10", "12"], correct: "10" }
                ]
            }
        },
        methods: {
            checkAnswer(selected) {
                if (selected === this.questions[this.currentStep].correct) {
                    this.showError = false;
                    if (this.currentStep < this.questions.length - 1) {
                        this.currentStep++;
                    } else {
                        this.gameState = 'hangman';
                    }
                } else {
                    this.showError = true;
                    setTimeout(() => { this.showError = false }, 2000);
                }
            },
            guessLetter(letter) {
                if (!this.guessedLetters.includes(letter)) {
                    this.guessedLetters.push(letter);
                    if (!this.hangmanWord.toLowerCase().includes(letter)) {
                        this.errors++;
                    }
                    this.checkHangmanWin();
                }
            },
            checkHangmanWin() {
                const targetLetters = this.hangmanWord.toLowerCase().replace(/\s/g, '').split('');
                const hasWon = targetLetters.every(l => this.guessedLetters.includes(l));
                if (hasWon) {
                    setTimeout(() => { this.gameState = 'finished'; }, 500);
                }
            }
        }
    }).mount('#app')
</script>

</body>
</html>